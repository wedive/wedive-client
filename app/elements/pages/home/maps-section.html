<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/google-map/google-map.html">
<link rel="import" href="../../../bower_components/google-map/google-map-marker.html">

<dom-module id="maps-section">
    <template>
        <style>
            .section-world {
                height: 600px;
            }

            .content-wrapper {
                @apply(--layout-horizontal);
                @apply(--layout-center-justified);
                background-color: var(--light-primary-color);
            }

            .fl-9 {
                @apply(--layout-flex-9);
            }

            .fl-3 {
                @apply(--layout-flex-3);
                @apply(--layout-horizontal);
                @apply(--layout-center-justified);
            }

            .text-content {
                @apply(--layout-vertical);
                @apply(--layout-center-justified);
            }

            p {
                font-weight: 300;
                font-size: 16px;
                line-height: 24px;
                text-align: center;
                letter-spacing: .1px;
                max-width: 250px;
            }


            @media (max-width: 841px) {

                .content-wrapper{
                    @apply(--layout-vertical-reverse);
                }
            }
        </style>
        <section>
            <div class="content-wrapper section-world">
                <div class="fl-9">
                    <google-map
                      api-key="AIzaSyDqWIe-keAOSqpmBzxuGFw7NmewBDY22TE"
                      zoom="7"
                      max-zoom="14"
                      min-zoom="7"
                      latitude="44.264879216821896"
                      longitude="9.156107191162176">
                        <template is="dom-repeat" items="{{places}}" as="place">
                            <google-map-marker map={{map}} latitude="{{place.geo_coordinate.latitude}}" longitude="{{place.geo_coordinate.longitude}}">
                                <h2>{{place.name}}</h2>
                            </google-map-marker>
                        </template>
                    </google-map>
                </div>
                <div class="fl-3">
                    <div  class="text-content">
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries,</p>
                    </div>
                </div>
            </div>
        </section>
    </template>
    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'maps-section',

                properties: {
                    places: {
                        type: Array
                    }
                },

                attached: function () {
                    var maps = this.querySelector('google-map');
                    var marker = document.createElement('google-map-marker');
                    marker.setAttribute('latitude', 44.0645037);
                    marker.setAttribute('longitude', 9.6405873);
                    marker.setAttribute('title', "Dynamic marker");
                    Polymer.dom(maps).appendChild(marker);
                }
            });
        })();
    </script>
</dom-module>