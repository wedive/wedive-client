<link rel="import" href="../../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../../bower_components/google-map/google-map.html">
<link rel="import" href="../../../../bower_components/google-map/google-map-marker.html">

<dom-module id="maps-section">
    <template>
        <style>
            .section-world {
                height: 600px;
            }

            .content-wrapper {
                @apply(--layout-horizontal);
                @apply(--layout-center-justified);
                background-color: red;
            }

            @media (max-width: 841px) {

                .content-wrapper{
                    @apply(--layout-vertical-reverse);
                }
            }
        </style>
        <section>
            <div class="content-wrapper section-world">
                <div class="flex-9">
                    <google-map
                      api-key="AIzaSyDqWIe-keAOSqpmBzxuGFw7NmewBDY22TE"
                      zoom="7"
                      max-zoom="14"
                      min-zoom="7"
                      latitude="44.264879216821896"
                      longitude="9.156107191162176">
                        <template is="dom-repeat" items="{{places}}" as="place">
                            <google-map-marker map={{map}} latitude="{{place.geo_coordinate.latitude}}" longitude="{{place.geo_coordinate.longitude}}">
                                <h2>{{place.name}}</h2>
                            </google-map-marker>
                        </template>
                    </google-map>
                </div>
                <div class="flex-3">
                    <div  class="layout horizontal center-justified" style="height: 100%">
                        <div class="layout vertical center-justified">
Contenuto
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>
    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'maps-section',

                properties: {
                    places: {
                        type: Array
                    }
                },

                attached: function () {
                    var maps = this.querySelector('google-map');
                    var marker = document.createElement('google-map-marker');
                    marker.setAttribute('latitude', 44.0645037);
                    marker.setAttribute('longitude', 9.6405873);
                    marker.setAttribute('title', "Dynamic marker");
                    Polymer.dom(maps).appendChild(marker);
                }
            });
        })();
    </script>
</dom-module>