<link rel="import" href="../../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../../../bower_components/polymer-apigility/rest/form/rest-form.html">
<link rel="import" href="../../dropdown-menu/dropdown-menu-input.html">
<link rel="import" href="../../user-avatar/user-avatar.html">

<dom-module id="strapieno-place-girl-put">
    <template>
        <form
                id="placeGirlAvatar"
                is="apigility-rest-form"
                content-type="multipart/form-data"
                auth="[[auth]]">
            <apigility-resource resource-name="rest/nightclub" identifier="[[placeId]]" has-identifier>
                <apigility-resource resource-name="girl" identifier="[[girlId]]"  has-identifier i-am-entity>
                    <apigility-resource resource-name="avatar">
                    </apigility-resource>
                </apigility-resource>
            </apigility-resource>
            <file-input label="Upload file" name="blob" auto-send></file-input>
            <strapieno-user-avatar user="[[girl]]" height="50" width="50" sizing="cover" placeholder="/images/avatar35x35.png"></strapieno-user-avatar>
        </form>
        <form id="placeGirlPatch"
            is="apigility-rest-form"
            entity="{{girl}}"
            update-method="PATCH"
            auth="{{auth}}"
            auto-load>
            <apigility-resource resource-name="rest/nightclub" identifier="[[placeId]]" has-identifier>
                <apigility-resource resource-name="girl" identifier="[[girlId]]" has-identifier>
                </apigility-resource>
            </apigility-resource>
            <paper-input name="give_name" label="Name"></paper-input>
            <paper-input name="height" label="Height"></paper-input>
            <paper-input name="hips" label="Hip"></paper-input>
            <paper-input name="waist" label="Waist"></paper-input>
            <paper-input name="breast" label="Breast"></paper-input>
            <div class="layout horizontal end-justified">
                <paper-button submit-button raised>SAVE</paper-button>
            </div>
        </form>
    </template>
    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'strapieno-place-girl-put',

                properties: {
                    identityObject: {
                        type: Object,
                        value: null,
                        notify: true
                    }
                },

                ready: function () {
                    this.$.placeGirlAvatar.addEventListener('rest-form-response', this.loadUserListener.bind(this));
                },

                loadUserListener: function (e) {
                    this.$.placeGirlPatch.$.restClient.get();
                }
            });
        })();
    </script>

</dom-module>