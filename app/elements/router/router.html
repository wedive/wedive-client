<link rel="import" href="../routing.html">

<link rel="import" href="../pages/home/mission-section.html">
<link rel="import" href="../pages/home/maps-section.html">
<link rel="import" href="../pages/home/team-section.html">
<link rel="import" href="../pages/home/grid-section.html">

<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../../bower_components/iron-image/iron-image.html">

<dom-module id="strapieno-router">
  <template>
    <style>

    ::content section {
      padding-top: 120px;
    }
    </style>
    <iron-pages attr-for-selected="data-route" selected="{{route}}">
      <!-- Home page -->
      <section data-route="dashboard">
        <mission-section></mission-section>
        <maps-section></maps-section>
        <team-section></team-section>
        <grid-section></grid-section>
      </section>

      <section data-route="place">
        <div>sono un place</div>
      </section>


    </iron-pages>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'strapieno-router',

        properties: {

          route: {
            type: String
          },

          routeParams: {
            type: Object,
            value: function () {return {};},
            observer: '_routeParamsChanged'
          },

          loadUserCollection: {
            type: Boolean,
            value: false
          },

          userId: {
            type: String
          },

          loadPlaceCollection: {
            type: Boolean,
            value: false
          },

          placeId: {
            type: String
          },

          reviewId: {
            type: String
          },

          girlId: {
            type: String
          }
        },

        _routeParamsChanged:  function (value) {
          switch(value.routeName) {
            case 'dashboard':
              break;
            case 'users':
              this.loadUserCollection = true;
              break;
            case 'user':
              this.userId = value.params.userId;
              this.loadUser = true;
              break;
            case 'profile':
              this.loadUser = true;
              break;
            case 'places':
              this.loadPlaceCollection = true;
              break;
            case 'place':
              this.placeId = value.params.placeId;
              this.loadPlace = true;
              break;
            case 'reviews':
              this.placeId = value.params.placeId;
              this.loadPlaceReviewCollection = true;
              break;
            case 'add-review':
              this.placeId = value.params.placeId;
              break;
            case 'review':
              this.placeId = value.params.placeId;
              this.reviewId = value.params.reviewId;
              break;
            case 'girls':
              this.placeId = value.params.placeId;
              this.loadPlaceGirlCollection = true;
              break;
            case 'add-girl':
              this.placeId = value.params.placeId;
              this.girlId = value.params.girlId;
              break;
            case 'girl':
              this.placeId = value.params.placeId;
              this.girlId = value.params.girlId;
              break;
            default:
              break;
          }
        }
      });
    })();
  </script>

</dom-module>