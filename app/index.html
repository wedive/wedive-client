<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <link rel="import" href="/elements/elements.html">
    <script src="/bower_components/webcomponentsjs/webcomponents.js"></script>
    <style is="custom-style" include="iron-flex iron-flex-alignment iron-flex-factors"></style>
</head>
<body class="fullbleed" unresolved>
<span id="browser-sync-binding"></span>
<template is="dom-bind" id="app">
    <iron-meta type="apigility" key="base-url" value="{{config.base-url}}"></iron-meta>
    <app-header fixed condenses
                effects="waterfall resize-snapped-title fade-background"
                effects-config='{"resize-snapped-title": {"startsAt": 0.8, "duration": "100ms"}, "fade-background": {"startsAt": 0.8, "endsAt": 0.9}}'>
        <app-toolbar>
            <h4 condensed-title></h4>
            <div main-title></div>
            <paper-button onclick="preregistration.open()">Pre registrazione</paper-button>
        </app-toolbar>
        <div class="header-content">
            <h1>Condividere i siti di immersione</h1>
        </div>
    </app-header>
    <div class="content">
        <strapieno-router
                auth="[[auth]]"
                maps-api-key="{{cnf.google-map-api-key}}"
                identity-object="[[identityObject]]"
                route="{{route}}"
                route-params="{{routeParams}}">
        </strapieno-router>
    </div>
    <partial-footer>

    </partial-footer>
    <paper-dialog id="preregistration">
        <form id="registrationForm"
              is="apigility-rest-form">
            <apigility-resource resource-name="rest/user"></apigility-resource>
            <paper-input name="email" label="Email"></paper-input>
            <dropdown-menu-input  name="type" label="Type">
                <paper-menu class="dropdown-content" class="flex hspace" attr-for-selected="value">
                    <paper-item value="diver">Subacquo</paper-item>
                    <paper-item value="diverOwner">Proprietario di un diving</paper-item>
                </paper-menu>
            </dropdown-menu-input>
            <div class="buttons">
                <paper-button submit-button raised>Registrati</paper-button>
                <paper-button dialog-confirm raised>Chiudi</paper-button>
            </div>
        </form>
    </paper-dialog>
</template>
<script src="/bower_components/page/page.js"></script>
<script src="/scripts/app.js"></script>

</body>
</html>